% This is an example file accompanying "LaTeX for Administrative Work"
% and was adapted from the file prob-1stprncp.tex in the probsoln.sty bundle.
%
% These problems all involve differentiating from 1st principles

\begin{defproblem}{dfp:xcube}%
 \begin{onlyproblem}%
 Differentiate $f(x) = x^3$ with respect to $x$ by first
 principles.%
 \end{onlyproblem}%
 \begin{onlysolution}%
 \begin{align*}
 \frac{dy}{dx} & = \lim_{\Delta x\rightarrow 0}\frac{f(x+\Delta x) - f(x)}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{(x+\Delta x)^3-x^3}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{(x+\Delta x)(x^2+2x\Delta x+(\Delta x)^2)-x^3}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{x^3+3x^2\Delta x+3x(\Delta x)^2+(\Delta x)^3-x^3}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{3x^2\Delta x+3x(\Delta x)^2+(\Delta x)^3}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}3x^2+3x\Delta x + (\Delta x)^2\\
  & = 3x^2
 \end{align*}%
 \end{onlysolution}%
\end{defproblem}

\begin{defproblem}{dfp:Ioverxsq}%
 \begin{onlyproblem}%
 Differentiate $\displaystyle f(x) = \frac{1}{x^2}$ with respect to
 $x$ by first principles.%
 \end{onlyproblem}%
 \begin{onlysolution}%
\begin{align*}
 \frac{df}{dx} & = \lim_{\Delta x\rightarrow 0}\frac{\frac{1}{(x+\Delta x)^2}-\frac{1}{x^2}}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{\frac{x^2-(x+\Delta x)^2}{x^2(x+\Delta x)^2}}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{x^2-(x^2+2x\Delta x+(\Delta x)^2)}{x^2\Delta x(x+\Delta x)^2}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{-2x\Delta x-(\Delta x)^2}{x^2\Delta x(x+\Delta x)^2}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{-2x-\Delta x}{x^2(x+\Delta x)^2}\\
  & = \frac{-2x}{x^2x^2}\\
  & = -\frac{2}{x^3}
 \end{align*}%
 \end{onlysolution}%
\end{defproblem}

\begin{defproblem}{dfp:sqrtx}%
 \begin{onlyproblem}%
 Differentiate from first principles $f(x) = \surd x$%
 \end{onlyproblem}%
 \begin{onlysolution}%
 \begin{align*}
 \frac{df}{dx} & = \lim_{\Delta x\rightarrow 0}\frac{\sqrt{x+\Delta x}-\surd x}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{(\sqrt{x+\Delta x}-\surd x)(\sqrt{x+\delta x}+\surd x)}{\Delta x(\sqrt{x+\Delta x}+\surd x)}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{x+\Delta x - x}{\Delta x(\sqrt{x+\Delta x}+\surd x)}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{\Delta x}{\Delta x(\sqrt{x+\Delta x}+\Delta x)}\\
  & = \lim_{\Delta x\rightarrow 0}\frac{1}{\sqrt{x+\Delta x}+\surd x}\\
  & = \frac{1}{2\surd x}
 \end{align*}%
 \end{onlysolution}
\end{defproblem}

\begin{defproblem}{dfp:cons}%
 \begin{onlyproblem}%
 Differentiate from first principles $f(x) = c$ where $c$ is a
 constant.%
 \end{onlyproblem}%
 \begin{onlysolution}%
 \begin{align*}
 \frac{df}{dx} & = \lim_{\Delta x\rightarrow 0}\frac{c-c}{\Delta x}\\
  & = \lim_{\Delta x\rightarrow 0}0\\
  & = 0
 \end{align*}%
 \end{onlysolution}%
\end{defproblem}

\begin{defproblem}{dfp:cosx}%
 \begin{onlyproblem}%
 Given 
 \begin{align*}
 \lim_{x \rightarrow 0} \frac{\cos x - 1}{x} & = 0\\
 \lim_{x \rightarrow 0} \frac{\sin x}{x} & = 1
 \end{align*}
 differentiate from first principles $f(x) = \cos x$.%
 \end{onlyproblem}%
 \begin{onlysolution}%
 \begin{align*}
 \frac{df}{dx} & = \lim_{\Delta x \rightarrow 0}\frac{f(x + \Delta x) - f(x)}{\Delta x}\\
  & = \lim_{\Delta x \rightarrow 0} \frac{\cos(x + \Delta x) - \cos(x)}{\Delta x}\\
  & = \lim_{\Delta x \rightarrow 0} \frac{\cos x\cos\Delta x - \sin x\sin\Delta x - \cos x}{\Delta x}\\
  & = \lim_{\Delta x \rightarrow 0} \frac{\cos x(\cos\Delta x - 1) - \sin x\sin\Delta x}{\Delta x}\\
  & = \cos x\lim_{\Delta x \rightarrow 0}\frac{\cos\Delta x - 1}{\Delta x} 
       - \sin x\lim_{\Delta x \rightarrow 0}\frac{\sin\Delta x}{\Delta x}\\
  & = -1 \qquad\text{(using given results)}
 \end{align*}%
 \end{onlysolution}%
\end{defproblem}
